import{_ as a,c as i,o as t,ag as l}from"./chunks/framework.B-XtCDNB.js";const g=JSON.parse('{"title":"2.1. The VAPI File","description":"","frontmatter":{},"headers":[],"relativePath":"developer-guides/bindings/writing-a-vapi-manually/02-00-getting-started/02-01-the-vapi-file.md","filePath":"developer-guides/bindings/writing-a-vapi-manually/02-00-getting-started/02-01-the-vapi-file.md","lastUpdated":1763235606000}'),s={name:"developer-guides/bindings/writing-a-vapi-manually/02-00-getting-started/02-01-the-vapi-file.md"};function o(n,e,r,d,p,h){return t(),i("div",null,[...e[0]||(e[0]=[l('<h1 id="_2-1-the-vapi-file" tabindex="-1">2.1. The VAPI File <a class="header-anchor" href="#_2-1-the-vapi-file" aria-label="Permalink to &quot;2.1. The VAPI File&quot;">â€‹</a></h1><p>Check if the library&#39;s development package has installed a <a href="http://www.freedesktop.org/wiki/Software/pkg-config/" target="_blank" rel="noreferrer">pkg-config</a> file (.pc file extension). If so, give your VAPI file the same name. For example libfoo.pc should have the VAPI called libfoo.vapi. This allows the details of the library files to be automatically picked up and passed through to the C compiler and linker.</p><p>When developing a VAPI a typical command to build the tests against the binding would be:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">valac</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --vapidir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --pkg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libfoo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> program_using_libfoo.vala</span></span></code></pre></div><p>The dot after <code>--vapidir</code> tells <code>valac</code> to include the current directory when looking for VAPI files. The <code>--pkg libfoo</code> switch tells <code>valac</code> to look for a VAPI called <code>libfoo.vapi</code>. Note the <code>.vapi</code> suffix is dropped. If the VAPI also has the same name as a <code>.pc</code> file then <code>valac</code> will find and use the <code>.pc</code> file to extract the relevant library details to pass to the C compiler and linker.</p><p>Example VAPI files can be found in the <a href="https://gitlab.gnome.org/GNOME/vala/tree/master/vapi" target="_blank" rel="noreferrer">of the Vala git repository</a> of the Vala git repository. Files stating they have been generated by <code>vapigen</code> have been generated through GObject Introspection and are not examples of manually written bindings.</p><p>Once you have a working VAPI file, even if it is only a subset of the library&#39;s functionality, please consider sharing the file. See <a href="https://gitlab.gnome.org/GNOME/vala-extra-vapis" target="_blank" rel="noreferrer">Vala Extra VAPIs</a> and <a href="./../../upstream-guide.html">Why Distribute Bindings Upstream</a>.</p>',7)])])}const f=a(s,[["render",o]]);export{g as __pageData,f as default};
