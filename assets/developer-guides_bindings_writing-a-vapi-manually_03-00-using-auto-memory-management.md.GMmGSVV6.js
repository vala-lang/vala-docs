import{_ as a,c as t,o as n,ag as o}from"./chunks/framework.B-XtCDNB.js";const g=JSON.parse(`{"title":"3. Using Vala's Automatic Memory Management","description":"","frontmatter":{},"headers":[],"relativePath":"developer-guides/bindings/writing-a-vapi-manually/03-00-using-auto-memory-management.md","filePath":"developer-guides/bindings/writing-a-vapi-manually/03-00-using-auto-memory-management.md","lastUpdated":1765577168000}`),i={name:"developer-guides/bindings/writing-a-vapi-manually/03-00-using-auto-memory-management.md"};function r(s,e,m,h,l,d){return n(),t("div",null,[...e[0]||(e[0]=[o('<h1 id="_3-using-vala-s-automatic-memory-management" tabindex="-1">3. Using Vala&#39;s Automatic Memory Management <a class="header-anchor" href="#_3-using-vala-s-automatic-memory-management" aria-label="Permalink to &quot;3. Using Vala&#39;s Automatic Memory Management&quot;">​</a></h1><p>When writing Vala code, including code using a C library, memory management is handled by the Vala compiler. There is usually no need to manually claim and free memory. When writing a binding, however, it is an important part of the process to accurately instruct the Vala compiler how to use the C library&#39;s memory management calls. This is a one time job and means anyone then using the binding can take advantage of a binding that is much easier to write code for.</p><p>Vala&#39;s memory allocation and types are a bit more involved than most languages. In Python, everything is a dynamically-typed object and it is allocated out of the ether then gets garbage collected. In C, memory allocation is largely handled by the user and types are simply descriptions of memory considered at compile time. Vala lives somewhere trying to cover all the bases at once. Importantly, the types in Vala imply something about the memory management.</p><p>There are 4 memory management schemes in Vala:</p><table tabindex="0"><thead><tr><th><strong>Scheme</strong></th><th><strong>Memory Manager</strong></th><th><strong>Helpers?</strong></th><th><strong>Copy Cost</strong></th></tr></thead><tbody><tr><td>Values</td><td>C compiler</td><td>No</td><td>Cheap</td></tr><tr><td>Parented</td><td>C compiler</td><td>Yes</td><td>Expensive</td></tr><tr><td>Singly-Owned</td><td>Heap allocator</td><td>Yes</td><td>Expensive</td></tr><tr><td>Reference-Counted</td><td>Heap allocator</td><td>Yes</td><td>Cheap</td></tr></tbody></table><h4 id="_3-1-pointers-in-c-or-what-all-these-s-mean" tabindex="-1"><a href="./03-00-using-auto-memory-management/03-01-pointers-in-c.html">3.1. Pointers in C (or what all these *&#39;s mean)</a> <a class="header-anchor" href="#_3-1-pointers-in-c-or-what-all-these-s-mean" aria-label="Permalink to &quot;[3.1. Pointers in C (or what all these *&#39;s mean)](03-00-using-auto-memory-management/03-01-pointers-in-c)&quot;">​</a></h4><h4 id="_3-2-constants-the-stack-and-the-heap-in-c" tabindex="-1"><a href="./03-00-using-auto-memory-management/03-02-constants-the-stack-and-the-heap-in-c.html">3.2. Constants, the Stack and the Heap in C</a> <a class="header-anchor" href="#_3-2-constants-the-stack-and-the-heap-in-c" aria-label="Permalink to &quot;[3.2. Constants, the Stack and the Heap in C](03-00-using-auto-memory-management/03-02-constants-the-stack-and-the-heap-in-c)&quot;">​</a></h4><h4 id="_3-3-the-concept-of-ownership-in-vala" tabindex="-1"><a href="./03-00-using-auto-memory-management/03-03-the-concept-of-ownership-in-vala.html">3.3. The Concept of &quot;Ownership&quot; in Vala</a> <a class="header-anchor" href="#_3-3-the-concept-of-ownership-in-vala" aria-label="Permalink to &quot;[3.3. The Concept of &quot;Ownership&quot; in Vala](03-00-using-auto-memory-management/03-03-the-concept-of-ownership-in-vala)&quot;">​</a></h4><h4 id="_3-4-binding-to-c-heap-handlers" tabindex="-1"><a href="./03-00-using-auto-memory-management/03-04-binding-to-c-heap-handnlers.html">3.4. Binding to C Heap Handlers</a> <a class="header-anchor" href="#_3-4-binding-to-c-heap-handlers" aria-label="Permalink to &quot;[3.4. Binding to C Heap Handlers](03-00-using-auto-memory-management/03-04-binding-to-c-heap-handnlers)&quot;">​</a></h4>',9)])])}const p=a(i,[["render",r]]);export{g as __pageData,p as default};
