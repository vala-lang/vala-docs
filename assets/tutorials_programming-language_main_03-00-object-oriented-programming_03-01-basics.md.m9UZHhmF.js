import{_ as i,c as a,o as e,ag as t}from"./chunks/framework.B-XtCDNB.js";const k=JSON.parse('{"title":"3.1. Basics","description":"","frontmatter":{},"headers":[],"relativePath":"tutorials/programming-language/main/03-00-object-oriented-programming/03-01-basics.md","filePath":"tutorials/programming-language/main/03-00-object-oriented-programming/03-01-basics.md","lastUpdated":1763235606000}'),n={name:"tutorials/programming-language/main/03-00-object-oriented-programming/03-01-basics.md"};function l(h,s,o,d,c,p){return e(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="_3-1-basics" tabindex="-1">3.1. Basics <a class="header-anchor" href="#_3-1-basics" aria-label="Permalink to &quot;3.1. Basics&quot;">â€‹</a></h1><p>Although Vala doesn&#39;t force you to work with objects, some features are not available any other way. As such, you will certainly want to program in an object-oriented style most of the time. As with most current languages, in order to define your own object types, you write a class definition.</p><p>A class definition states what data each object of its type has, what other object types it can hold references to, and what methods can be executed on it. The definition can include a name of another class which the new one should be a subclass of. An instance of a class is also an instance of all its class&#39;s super classes, as it inherits from them all their methods and data, although it may not be able to access all of this itself. A class may also implement any number of interfaces, which are sets of method definitions that must be implemented by the class - an instance of a class is also an instance of each interface implemented by its class or super classes.</p><p>Classes in Vala may also have &quot;static&quot; members. This modifier allows either data or methods to be defined as belonging to the class as a whole, rather than to a specific instance of it. Such members can be accessed without possessing an instance of the class.</p><p>A simple class may be defined as follows:</p><div class="language-vala vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vala</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TestClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GLib</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* Fields */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> first_data = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> second_data;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* Constructor */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TestClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.second_data = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* Method */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> method_1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        stdout.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;private data: %d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.second_data);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.second_data;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>This code will define a new type (which is registered automatically with the <em>gobject</em> library&#39;s type system) that contains three members. There are two data members, the integers defined at the top, and one method called <em>method_1</em>, which returns an integer. The class declaration states that this class is a subclass of <em>GLib.Object</em>, and therefore instances of it are also <em>Objects</em>, and contain all the members of that type also. The fact that this class is descended from <em>Object</em> also means that there are special features of Vala that can be used to easily access some of <em>Object&#39;s</em> features.</p><p>This class is described as <code>public</code> (by default, classes are <code>internal</code>). The implication of this is that it can referenced directly by code outside of this file - if you are a C programmer of glib/gobject, you will recognise this as being equivalent to defining the class interfaces in a header file that other code can include.</p><p>The members are also all described as either <code>public</code> or <code>private</code>. The member <em>first_data</em> is <code>public</code>, so it is visible directly to any user of the class, and can be modified without the containing instance being aware of it. The second data member is <code>private</code>, and so can only be referenced by code belonging to this class. Vala supports four different access modifiers:</p><table tabindex="0"><thead><tr><th>Modifier</th><th>Description</th></tr></thead><tbody><tr><td><code>public</code></td><td>No restrictions to access</td></tr><tr><td><code>private</code></td><td>Access is limited to within the class/struct definition. This is the default if no access modifier is specified</td></tr><tr><td><code>protected</code></td><td>Access is limited to within the class definition and any class that inherits from the class</td></tr><tr><td><code>internal</code></td><td>Access is limited exclusively to classes defined within the same package</td></tr></tbody></table><p>The constructor initialises new instances of a class. It has the same name as the class, may take zero or more arguments and is defined without return type.</p><p>The final part of this class is a method definition. This method is to be called <em>method_1</em>, and it will return an integer. As this method is not static, it can only be executed on an instance of this class, and may therefore access members of that instance. It can do this through the <code>this</code> reference, which always points to the instance the method is being called on. Unless there is an ambiguity, the <code>this</code> identifier can be omitted if wished.</p><p>You can use this new class as follows:</p><div class="language-vala vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vala</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TestClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t = </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TestClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t.first_data = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">method_1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div>`,14)])])}const m=i(n,[["render",l]]);export{k as __pageData,m as default};
